{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeleteCardPopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onLikeClick","onDeleteClick","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","bind","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","type","about","map","Footer","ImagePopup","isOpen","onClose","console","log","data-type","PopupWithForm","children","onSubmit","props","method","action","id","noValidate","value","EditProfilePopup","onUpdateUser","useState","setName","setAbout","handleChange","evt","target","useEffect","title","buttonName","preventDefault","placeholder","required","minLength","maxLength","onChange","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","e","ref","AddPlacePopup","setLink","ConfirmDeleteCardPopup","api","baseUrl","headers","this","_baseUrl","_headers","url","additionalHeaders","body","fetchOptions","JSON","stringify","fetch","then","res","ok","json","Promise","reject","status","statusText","_fetchApi","cardId","info","authorization","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isImagePopupOpen","setImagePopupOpen","isConfirmDeleteCardPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","closeAllPopups","getUserInfo","catch","err","getInitialsCards","Provider","newAvatar","editAvatar","newUser","userData","editUserInfo","postCard","newCard","changeLikeCardStatus","newCards","c","cardToDelete","removeCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+MAAe,MAA0B,iCCC1B,SAASA,IACrB,OAAQ,wBAAQC,UAAU,SAAlB,SACP,qBAAKC,IAAKC,EAAMC,IAAI,8EAAkBH,UAAU,oBCD7C,IAAMI,EAAqBC,IAAMC,gBCAzB,SAASC,EAAT,GAA6D,IAA7CC,EAA4C,EAA5CA,KAAKC,EAAuC,EAAvCA,YAAYC,EAA2B,EAA3BA,YAAYC,EAAe,EAAfA,cACpDC,EAAcP,IAAMQ,WAAWT,GAEjCU,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IAGvCC,EAAyB,8BACNH,EAAQ,eAAiB,uBAG5CI,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAGrDM,EAAuB,UAAOJ,EAAyB,cAAf,cAC1C,OACF,sBAAKlB,UAAU,OAAf,UACE,qBAAKC,IAAKO,EAAKe,KAAMpB,IAAKK,EAAKgB,KAAMxB,UAAU,cAAcyB,QAAShB,EAAYiB,KAAK,KAAKlB,KAExF,wBACER,UAAWiB,EAA2BQ,QAASd,EAAce,KAAK,KAAKlB,KAG7E,sBAAKR,UAAU,aAAf,UACI,oBAAIA,UAAU,cAAd,SAA6BQ,EAAKgB,OACpC,sBAAKxB,UAAU,iBAAf,UACM,wBAAQA,UAAWsB,EAAyBG,QAASf,EAAYgB,KAAK,KAAKlB,KAC7E,mBAAGR,UAAU,gBAAb,SAA8BQ,EAAKW,MAAMQ,kBCzBpC,SAASC,EAAT,GAEkD,IAFlCC,EAEiC,EAFjCA,aAC3BC,EAC4D,EAD5DA,cACAC,EAA4D,EAA5DA,WAAYC,EAAgD,EAAhDA,MAAOvB,EAAyC,EAAzCA,YAAYC,EAA6B,EAA7BA,YAAYC,EAAiB,EAAjBA,cAErCC,EAAcP,IAAMQ,WAAWT,GAGrC,OACI,sBAAKJ,UAAU,OAAf,UACI,0BAASA,UAAU,UAAnB,UACI,sBAAKA,UAAU,kBAAf,UACI,qBAAKC,IAAKW,EAAYqB,OAAQ9B,IAAI,sEAAeH,UAAU,mBAC3D,qBAAKA,UAAU,uBAAf,SACI,wBAAQA,UAAU,mBAAmByB,QAASI,SAGtD,sBAAK7B,UAAU,gBAAf,UACI,sBAAKA,UAAU,iBAAf,UACI,oBAAIA,UAAU,gBAAd,SAA+BY,EAAYY,OAC3C,wBAAQU,KAAK,SAASlC,UAAU,uBAAuByB,QAASK,OAEpE,mBAAG9B,UAAU,iBAAb,SAA+BY,EAAYuB,WAE/C,wBAAQD,KAAK,SAASlC,UAAU,sBAAsByB,QAASM,EAA/D,kBAEJ,yBAAS/B,UAAU,QAAnB,SAEKgC,EAAMI,KAAI,SAAC5B,GAAD,OAEP,cAACD,EAAD,CAEIC,KAAMA,EACNC,YAAaA,EACbC,YAAaA,EACbC,cAAeA,GAJVH,EAAKQ,aCjCnB,SAASqB,IACpB,OAAQ,wBAAQrC,UAAU,SAAlB,SACR,mBAAGA,UAAU,eAAb,sCCFW,SAASsC,EAAT,GAA4C,IAAvB9B,EAAsB,EAAtBA,KAAM+B,EAAgB,EAAhBA,OAAOC,EAAS,EAATA,QAE/C,OADAC,QAAQC,IAAIlC,GAEZ,0BAASR,UAAS,gBAAWuC,GAAU,gBAAkBI,YAAU,MAAnE,UACE,qBAAK3C,UAAU,mBACf,sBAAKA,UAAU,cAAf,UACI,wBAAQkC,KAAK,SAASlC,UAAU,eAAeyB,QAASe,IACxD,qBAAKvC,IAAKO,EAAKe,KAAMpB,IAAKK,EAAKgB,KAAMxB,UAAU,eAC/C,mBAAGA,UAAU,cAAb,SAA4BQ,EAAKgB,a,YCR1B,SAASoB,EAAT,GAAyE,EAAjDpB,KAAkD,IAA7CqB,EAA4C,EAA5CA,SAASN,EAAmC,EAAnCA,OAAQC,EAA2B,EAA3BA,QAAQM,EAAmB,EAAnBA,SAAYC,EAAO,iEAEpF,OACI,0BAAS/C,UAAS,2BAAsB+C,EAAMvB,KAA5B,YAAoCe,GAAU,gBAAhE,UACK,qBAAKvC,UAAU,mBACpB,uBAAMA,UAAU,cAAcgD,OAAO,QAAQC,OAAO,IAAIC,GAAG,aAAa1B,KAAMuB,EAAMvB,KAAM2B,YAAU,EAACL,SAAUA,EAA/G,UACI,wBAAQZ,KAAK,SAASlC,UAAU,eAAeyB,QAASe,IACxD,oBAAIxC,UAAU,eAAd,uIACE6C,EACF,wBAAQX,KAAK,SAASlC,UAAU,gBAAgBoD,MAAM,WCNnD,SAASC,EAAT,GAA6D,IAAjCd,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,QAAQc,EAAgB,EAAhBA,aACnD1C,EAAcP,IAAMQ,WAAWT,GADoC,EAElDmD,mBAAS,IAFyC,mBAElE/B,EAFkE,KAE5DgC,EAF4D,OAGjDD,mBAAS,IAHwC,mBAGlEpB,EAHkE,KAG3DsB,EAH2D,KAazE,SAASC,EAAaC,GACA,SAApBA,EAAIC,OAAOpC,KACTgC,EAAQG,EAAIC,OAAOR,OACnBK,EAASE,EAAIC,OAAOR,OAMtB,OAJF/C,IAAMwD,WAAU,WACdL,EAAQ5C,EAAYY,MACpBiC,EAAS7C,EAAYuB,SACpB,CAACvB,IAEE,eAACgC,EAAD,CACEkB,MAAM,4HACNtC,KAAK,eACLuC,WAAW,yDACXxB,OAAQA,EACRC,QAASA,EACVM,SAzBP,SAAsBa,GACpBA,EAAIK,iBACJV,EAAa,CACX9B,KAAMA,EACNW,MAAOA,KAeL,UASI,uBACEe,GAAG,aACHhB,KAAK,OACLV,KAAK,OACL4B,MAAO5B,GAAQ,GACfxB,UAAU,eACViE,YAAY,8CACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVC,SAAUX,IAGZ,sBACER,GAAG,mBACHlD,UAAU,uBAIZ,uBACEkD,GAAG,cACHhB,KAAK,OACLV,KAAK,QACL4B,MAAOjB,GAAS,GAChBnC,UAAU,eACViE,YAAY,kCACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,MACXC,SAAUX,IAGX,sBACER,GAAG,oBACHlD,UAAU,0BClET,SAASsE,EAAT,GAA+D,IAApC/B,EAAmC,EAAnCA,OAAQC,EAA2B,EAA3BA,QAAS+B,EAAkB,EAAlBA,eAEnDC,EAAWC,iBAAO,IAQxB,OAHApE,IAAMwD,WAAU,WACdW,EAASE,QAAQtB,MAAQ,KACxB,CAACb,IAEF,eAACK,EAAD,CACEkB,MAAM,wFACNtC,KAAK,gBACLe,OAAQA,EACRC,QAASA,EACTM,SAbJ,SAAsB6B,GACpBA,EAAEX,iBACFO,EAAe,CAACtC,OAAOuC,EAASE,QAAQtB,SAMxC,UAQE,uBACEwB,IAAKJ,EACLtB,GAAG,eACHhB,KAAK,MACLV,KAAK,SACLxB,UAAU,eACViE,YAAY,yFACZC,UAAQ,EACRf,YAAU,IAGZ,sBAAMD,GAAG,qBAAqBlD,UAAU,0BC/B/B,SAAS6E,EAAT,GAAyD,IAAhCtC,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,QAAST,EAAc,EAAdA,WAAc,EAE7CwB,mBAAS,IAFoC,mBAE9D/B,EAF8D,KAExDgC,EAFwD,OAG7CD,mBAAS,IAHoC,mBAG9DhC,EAH8D,KAGxDuD,EAHwD,KAIrE,SAASpB,EAAaiB,GACF,SAAlBA,EAAEf,OAAOpC,KAAkBgC,EAAQmB,EAAEf,OAAOR,OAAS0B,EAAQH,EAAEf,OAAOR,OAUxE,OACE,eAACR,EAAD,CACEkB,MAAM,gEACNtC,KAAK,UACLe,OAAQA,EACRC,QAASA,EACTM,SAdJ,SAAsB6B,GACpBA,EAAEX,iBACFjC,EAAW,CACTP,OACAD,UAKF,UAQE,uBAEE2B,GAAG,cACHhB,KAAK,OACLV,KAAK,OACLxB,UAAU,eACViE,YAAY,mDACZE,UAAU,IACVC,UAAU,KACVhB,MAAO5B,GAAQ,GACf6C,SAAUX,EACVQ,UAAQ,IAEV,sBAAMhB,GAAG,oBAAoBlD,UAAU,uBAEvC,uBAEEkD,GAAG,YACHhB,KAAK,MACLV,KAAK,OACL4B,MAAO7B,GAAQ,GACfvB,UAAU,eACViE,YAAY,qGACZI,SAAUX,EACVQ,UAAQ,IAEV,sBAAMhB,GAAG,kBAAkBlD,UAAU,0BCnD5B,SAAS+E,EAAT,GAAmD,IAAlBxC,EAAiB,EAAjBA,OAAQC,EAAS,EAATA,QACpD,OACI,cAACI,EAAD,CACEkB,MAAM,2DACNtC,KAAK,eACLe,OAAQA,EACRC,QAASA,I,yBCkDJwC,EAJH,I,WApDV,WAAYC,EAASC,GAAU,oBAC7BC,KAAKC,SAAWH,EAChBE,KAAKE,SAAWH,E,sDAERI,EAAKtC,EAAQuC,EAAmBC,GACxC,IAAMC,EAAe,CACnBzC,OAAQA,EACRkC,QAAQ,2BAAOC,KAAKE,UAAaE,IAMnC,OAJIC,IACFC,EAAaD,KAAOE,KAAKC,UAAUH,IAG9BI,MAAM,GAAD,OAAIT,KAAKC,UAAT,OAAoBE,GAAOG,GAAcI,MAAK,SAAAC,GACxD,OAAIA,EAAIC,GACCD,EAAIE,OAGNC,QAAQC,OAAR,gDAA0BJ,EAAIK,OAA9B,cAA0CL,EAAIM,kB,yCAKvD,OAAOjB,KAAKkB,UAAU,SAAU,S,+BAEzB7F,GACP,OAAO2E,KAAKkB,UAAU,SAAU,OAAQ,CAAE,eAAgB,oBAAsB7F,K,iCAGvE8F,GACT,OAAOnB,KAAKkB,UAAL,iBAAyBC,GAAU,Y,2CAGvBA,EAAQpF,GAC3B,OAAOiE,KAAKkB,UAAL,uBAA+BC,GAA/B,UAA4CpF,EAAU,MAAQ,a,oCAMrE,OAAOiE,KAAKkB,UAAU,YAAa,S,mCAGxBE,GACX,OAAOpB,KAAKkB,UAAU,YAAa,QAAS,CAAE,eAAgB,oBAAsBE,K,iCAG3EhF,GACT,OAAO4D,KAAKkB,UAAU,mBAAoB,QAAS,CAAE,eAAgB,oBAAsB9E,O,KAInF,CAAQ,8CAA+C,CACjEiF,cAAe,yCC2GFC,MArJf,WAAgB,IAAD,EAC6ClD,oBAAS,GADtD,mBACNmD,EADM,KACkBC,EADlB,OAE2CpD,oBAAS,GAFpD,mBAENqD,EAFM,KAEiBC,EAFjB,OAGuCtD,oBAAS,GAHhD,mBAGNuD,EAHM,KAGeC,EAHf,OAIiCxD,oBAAS,GAJ1C,mBAINyD,EAJM,KAIYC,EAJZ,OAQT1D,oBAAS,GARA,mBAMX2D,EANW,aAS2B3D,mBAAS,KATpC,mBASN4D,EATM,KASQC,EATR,OAUa7D,mBAAS,IAVtB,mBAUNvB,EAVM,KAUCqF,EAVD,OAWyB9D,mBAAS,IAXlC,mBAWN3C,EAXM,KAWO0G,EAXP,KAab,SAASC,IACPZ,GAAwB,GACxBE,GAAuB,GACvBE,GAAqB,GACrBE,GAAkB,GAyFpB,OAtFA5G,IAAMwD,WAAU,WACdmB,EACGwC,cACA3B,MAAK,SAACC,GACLwB,EAAexB,MAEhB2B,OAAM,SAACC,GAAD,OACLjF,QAAQC,IAAR,iQAA8DgF,SAEjE,IACH7D,qBAAU,WACRmB,EACG2C,mBACA9B,MAAK,SAAC7D,GACLqF,EAASrF,MAGVyF,OAAM,SAACC,GACNjF,QAAQC,IAAIgF,EAAM,0DAErB,IAmED,mCACE,eAACtH,EAAmBwH,SAApB,CAA6BxE,MAAOxC,EAApC,UACE,cAACb,EAAD,IACA,cAACuE,EAAD,CACE/B,OAAQqE,EACRpE,QAAS+E,EACThD,eArCR,SAA4BsD,GAC1B7C,EACG8C,WAAWD,GACXhC,MAAK,SAACkC,GACLT,EAAeS,GACfR,OAEDE,OAAM,SAACC,GAAD,OAASjF,QAAQC,IAAR,gDAAuBgF,UAgCrC,cAACrE,EAAD,CACEd,OAAQmE,EACRlE,QAAS+E,EACTjE,aAnDR,SAA0B0E,GACxBhD,EACGiD,aAAaD,GACbnC,MAAK,SAACkC,GACLT,EAAeS,GACfR,OAEDE,OAAM,SAACC,GAAD,OAASjF,QAAQC,IAAR,gDAAuBgF,UA8CrC,cAAC7C,EAAD,CACEtC,OAAQuE,EACRtE,QAAS+E,EACTxF,WA7BR,SAAwBvB,GACtBwE,EACGkD,SAAS1H,GACTqF,MAAK,SAACsC,GACLd,EAAS,CAACc,GAAF,mBAAcnG,KACtBuF,OAEDE,OAAM,SAACC,GAAD,OACLjF,QAAQC,IAAR,gNAAqDgF,UAuBrD,cAAC3C,EAAD,CACExC,OAAQ2E,EACR1E,QAAS+E,IAEX,cAACjF,EAAD,CACE9B,KAAM2G,EACN5E,OAAQyE,EACRxE,QAAS+E,IAEX,cAAC3F,EAAD,CACEG,WAjDR,WACEgF,GAAqB,IAiDfjF,cAxER,WACE6E,GAAwB,IAwElB9E,aA5ER,WACEgF,GAAuB,IA4EjBpG,YAhDR,SAAyBD,GACvByG,GAAkB,GAClBG,EAAgB5G,IA+CVE,YAlGR,SAAwBF,GAEtB,IAAMU,EAAUV,EAAKW,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQJ,EAAYI,OAE7DgE,EACGoD,qBAAqB5H,EAAKQ,KAAME,GAChC2E,MAAK,SAACsC,GAEL,IAAME,EAAWrG,EAAMI,KAAI,SAACkG,GAAD,OAAQA,EAAEtH,MAAQR,EAAKQ,IAAMmH,EAAUG,KAElEjB,EAASgB,MAEVZ,OAAM,SAACC,GAAD,OAASjF,QAAQC,IAAR,gDAAuBgF,QAuFnC/G,cArFR,SAA0B4H,GACxBvD,EACGwD,WAAWD,EAAavH,KACxB6E,MAAK,kBAAMwB,EAASrF,EAAMyG,QAAO,SAACjI,GAAD,OAAUA,IAAS+H,SACpDd,OAAM,SAACC,GAAD,OAASjF,QAAQC,IAAR,gDAAuBgF,QAkFnC1F,MAAOA,IAET,cAACK,EAAD,IAnCF,IAmCcI,QAAQC,IAAIV,SC/IjB0G,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB/C,MAAK,YAAkD,IAA/CgD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.77e86d43.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.fad4f8a5.svg\";","import logo from '../images/logo.svg';\r\nexport default function Header(){\r\n   return( <header className=\"header\">\r\n    <img src={logo} alt=\"Логотип 'Место'\" className=\"header__logo \" />\r\n    </header>);\r\n}\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nexport default function Card( {card,onCardClick,onLikeClick,onDeleteClick}){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n// Определяем, являемся ли мы владельцем текущей карточки\r\nconst isOwn = card.owner._id === currentUser._id;\r\n\r\n// Создаём переменную, которую после зададим в `className` для кнопки удаления\r\nconst cardDeleteButtonClassName = (\r\n  `card__delete-button ${isOwn ? 'card__delete' : 'card__delete_hidden'}`\r\n);\r\n// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\nconst isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n// Создаём переменную, которую после зададим в `className` для кнопки лайка\r\nconst cardLikeButtonClassName =(`${!isLiked ? 'card__like' : 'card__liked'}`);\r\n    return(    \r\n  <div className=\"card\" >\r\n    <img src={card.link} alt={card.name} className=\"card__photo\" onClick={onCardClick.bind(null,card)} />\r\n        \r\n        <button\r\n          className={cardDeleteButtonClassName} onClick={onDeleteClick.bind(null,card)}\r\n         />\r\n     \r\n    <div className=\"card__text\">\r\n        <h3 className=\"card__title\">{card.name}</h3>\r\n      <div className=\"card__likearea\">\r\n            <button className={cardLikeButtonClassName} onClick={onLikeClick.bind(null,card)}></button>\r\n          <p className=\"card__counter\">{card.likes.length}</p>    \r\n      </div>\r\n    </div>\r\n</div>\r\n)\r\n}","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nexport default function Main({ onEditAvatar,\r\n    onEditProfile,\r\n    onAddPlace, cards, onCardClick,onLikeClick,onDeleteClick }) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n    return (\r\n        <div className=\"main\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar\">\r\n                    <img src={currentUser.avatar} alt=\"фото профиля\" className=\"profile__photo\" />\r\n                    <div className=\"profile__avatar_over\">\r\n                        <button className=\"profile__overlay\" onClick={onEditAvatar} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__title\">\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile} />\r\n                    </div>\r\n                    <p className=\"profile__about\">{currentUser.about}</p>\r\n                </div>\r\n                <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}> </button>\r\n            </section>\r\n            <section className=\"cards\">\r\n\r\n                {cards.map((card) => (\r\n\r\n                    <Card\r\n                        key={card._id}\r\n                        card={card}\r\n                        onCardClick={onCardClick}\r\n                        onLikeClick={onLikeClick}\r\n                        onDeleteClick={onDeleteClick}\r\n                    />\r\n                ))}\r\n            </section>\r\n        </div>);\r\n}","export default function Footer(){\r\n    return( <footer className=\"footer\">\r\n    <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\r\n</footer>)\r\n}","export default function ImagePopup({card, isOpen,onClose}){\r\n  console.log(card);\r\n  return(  \r\n  <section className={`popup ${isOpen && 'popup_opened'}`} data-type=\"img\">\r\n    <div className=\"popup__overlay\"></div>\r\n    <div className=\"popup__cont\">\r\n        <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\r\n        <img src={card.link} alt={card.name} className=\"popup__img\" />\r\n        <p className=\"popup__text\">{card.name}</p>\r\n    </div>\r\n</section>)\r\n}","export default function PopupWithForm({name,children,isOpen ,onClose,onSubmit,...props}){\r\n   \r\n    return (\r\n        <section className={`popup popup_type_${props.name} ${isOpen && 'popup_opened'}`} >\r\n             <div className=\"popup__overlay\"></div>\r\n        <form className=\"popup__form\" method=\"PATCH\" action=\"#\" id=\"form__edit\" name={props.name} noValidate onSubmit={onSubmit}>\r\n            <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\r\n            <h2 className=\"popup__title\">Редактировать профиль</h2>\r\n             {children}\r\n            <button type=\"submit\" className=\"popup__submit\" value=\"\"></button>\r\n        </form>\r\n        </section>\r\n    )\r\n}","import PopupWithForm from './PopupWithForm';\r\nimport React , {useState}  from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nexport default function EditProfilePopup({ isOpen, onClose,onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName]= useState('');\r\n  const [about, setAbout]=useState('');\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: about,\r\n    });\r\n    \r\n    \r\n  }\r\n  function handleChange(evt){\r\n    evt.target.name === 'name'\r\n    ? setName(evt.target.value)\r\n    : setAbout(evt.target.value);\r\n  }\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setAbout(currentUser.about);\r\n  }, [currentUser]);\r\n    return (\r\n        <PopupWithForm\r\n          title=\"Редактировать профиль\"\r\n          name=\"edit-profile\"\r\n          buttonName=\"Сохранить\"\r\n          isOpen={isOpen}\r\n          onClose={onClose}\r\n         onSubmit={handleSubmit}\r\n        >\r\n          \r\n            <input\r\n              id=\"name-input\"\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={name || ''}\r\n              className=\"popup__input\"\r\n              placeholder=\"Ваше имя\"\r\n              required\r\n              minLength=\"2\"\r\n              maxLength=\"40\"\r\n              onChange={handleChange}\r\n      \r\n            />\r\n            <span\r\n              id=\"name-input-error\"\r\n              className=\"popup__input-error\"\r\n            ></span>\r\n  \r\n       \r\n            <input\r\n              id=\"about-input\"\r\n              type=\"text\"\r\n              name=\"about\"\r\n              value={about || ''}\r\n              className=\"popup__input\"\r\n              placeholder=\"О себе\"\r\n              required\r\n              minLength=\"2\"\r\n              maxLength=\"200\"\r\n             onChange={handleChange}\r\n           \r\n            />\r\n            <span\r\n              id=\"about-input-error\"\r\n              className=\"popup__input-error\"\r\n            ></span>\r\n        </PopupWithForm>)\r\n}","\r\nimport React, { useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n\r\n  const inputRef = useRef('');\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({avatar:inputRef.current.value} );\r\n  }\r\n  React.useEffect(() => {\r\n    inputRef.current.value = '';\r\n  }, [isOpen]);\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"change-avatar\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n\r\n      <input\r\n        ref={inputRef}\r\n        id=\"avatar-input\"\r\n        type=\"url\"\r\n        name=\"avatar\"\r\n        className=\"popup__input\"\r\n        placeholder=\"Ссылка на аватар\"\r\n        required\r\n        noValidate\r\n      />\r\n\r\n      <span id=\"avatar-input-error\" className=\"popup__input-error\"></span>\r\n\r\n    </PopupWithForm>\r\n  );\r\n}","import PopupWithForm from './PopupWithForm';\r\nimport React, { useState } from 'react';\r\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n \r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n  function handleChange(e) {\r\n    e.target.name === 'name' ? setName(e.target.value) : setLink(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"addCard\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n\r\n      <input\r\n       \r\n        id=\"place-input\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        className=\"popup__input\"\r\n        placeholder=\"Название\"\r\n        minLength=\"1\"\r\n        maxLength=\"30\"\r\n        value={name || ''}\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <span id=\"place-input-error\" className=\"popup__input-error\"></span>\r\n\r\n      <input\r\n      \r\n        id=\"url-input\"\r\n        type=\"url\"\r\n        name=\"link\"\r\n        value={link || ''}\r\n        className=\"popup__input\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <span id=\"url-input-error\" className=\"popup__input-error\"></span>\r\n\r\n    </PopupWithForm>\r\n  );\r\n}","import PopupWithForm from './PopupWithForm';\r\nexport default function ConfirmDeleteCardPopup({isOpen, onClose}){\r\n    return (\r\n        <PopupWithForm\r\n          title=\"Вы уверены?\"\r\n          name=\"confirmation\"   \r\n          isOpen={isOpen}\r\n          onClose={onClose}\r\n         \r\n        >\r\n        </PopupWithForm>\r\n      );\r\n}","class Api {\r\n  constructor(baseUrl, headers) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n  _fetchApi(url, method, additionalHeaders, body) {\r\n    const fetchOptions = {\r\n      method: method,\r\n      headers: { ... this._headers, ...additionalHeaders },\r\n    };\r\n    if (body) {\r\n      fetchOptions.body = JSON.stringify(body);\r\n    }\r\n\r\n    return fetch(`${this._baseUrl}${url}`, fetchOptions).then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n\r\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\r\n    });\r\n  }\r\n\r\n  getInitialsCards() {\r\n    return this._fetchApi('/cards', \"GET\");\r\n  }\r\n  postCard(card) {\r\n    return this._fetchApi('/cards', 'POST', { 'Content-Type': 'application/json' }, card);\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return this._fetchApi(`/cards/${cardId}`, 'DELETE');\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return this._fetchApi(`/cards/likes/${cardId}`, `${isLiked ? 'PUT' : 'DELETE'}`);\r\n  }\r\n\r\n\r\n  //Операции с данными пользователя\r\n  getUserInfo() {\r\n    return this._fetchApi('/users/me', 'GET');\r\n  }\r\n\r\n  editUserInfo(info) {\r\n    return this._fetchApi('/users/me', \"PATCH\", { 'Content-Type': 'application/json' }, info);\r\n  }\r\n\r\n  editAvatar(link) {\r\n    return this._fetchApi('/users/me/avatar', 'PATCH', { 'Content-Type': 'application/json' }, link);\r\n  }\r\n}\r\n\r\nconst api = new Api(\"https://mesto.nomoreparties.co/v1/cohort-16\", {\r\n  authorization: \"0100295d-ffab-4dd9-a2ae-64af071cc3da\",\r\n});\r\n\r\nexport default api\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ConfirmDeleteCardPopup from \"./ConfirmDeleteCardPopup\";\r\nimport api from \"../utils/Api\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\r\n  const [\r\n    isConfirmDeleteCardPopupOpen,\r\n    setConfirmDeleteCardPopupOpen,\r\n  ] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setImagePopupOpen(false);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch((err) =>\r\n        console.log(`Ошибка при загрузке информации о пользователе: ${err}`)\r\n      );\r\n  }, []);\r\n  useEffect(() => {\r\n    api\r\n      .getInitialsCards()\r\n      .then((cards) => {\r\n        setCards(cards);\r\n      })\r\n\r\n      .catch((err) => {\r\n        console.log(err + \" карточки\");\r\n      });\r\n  }, []);\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        // Обновляем стейт\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => console.log(`Ошибка: ${err}`));\r\n  }\r\n  function handleCardDelete(cardToDelete) {\r\n    api\r\n      .removeCard(cardToDelete._id)\r\n      .then(() => setCards(cards.filter((card) => card !== cardToDelete)))\r\n      .catch((err) => console.log(`Ошибка: ${err}`));\r\n  }\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n  function handleUpdateUser(userData) {\r\n    api\r\n      .editUserInfo(userData)\r\n      .then((newUser) => {\r\n        setCurrentUser(newUser);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Ошибка: ${err}`));\r\n  }\r\n  function handleUpdateAvatar(newAvatar) {\r\n    api\r\n      .editAvatar(newAvatar)\r\n      .then((newUser) => {\r\n        setCurrentUser(newUser);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Ошибка: ${err}`));\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setImagePopupOpen(true);\r\n    setSelectedCard(card);\r\n  }\r\n  function handleAddPlace(card) {\r\n    api\r\n      .postCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) =>\r\n        console.log(`Ошибка при добавлении новой карточки: ${err}`)\r\n      );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlace}\r\n        />\r\n        <ConfirmDeleteCardPopup\r\n          isOpen={isConfirmDeleteCardPopupOpen}\r\n          onClose={closeAllPopups}\r\n        />\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          isOpen={isImagePopupOpen}\r\n          onClose={closeAllPopups}\r\n        />\r\n        <Main\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditProfile={handleEditProfileClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          onLikeClick={handleCardLike}\r\n          onDeleteClick={handleCardDelete}\r\n          cards={cards}\r\n        />\r\n        <Footer /> {console.log(cards)}\r\n      </CurrentUserContext.Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from '../src/components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}